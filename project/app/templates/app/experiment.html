{% extends 'base.html' %}


{% block content %}

<form>
  {% for item in form %}
    <img src="{{ item.img.url }}" class="product-image">
  {% endfor %}

<input id='answer' type='text'>
<button class="btn hidden">next </button>
</form>

<button id="next-button" class="btn btn-primary btnnav">next </button>


{% endblock %}

{% block scripts %}
<script>
  const images = document.querySelectorAll('.product-image');
  const nextButton = document.getElementById('next-button');
  const ans = document.getElementById('answer');
  let currentIndex = 0;

  function showImage(index) {
    images.forEach(image => image.style.display = 'none');
    images[index].style.display = 'block';
    {% comment %} setTimeout(() => {
      images[index].style.display = 'none';
    }, 5); {% endcomment %}
  }
    const labels = [];
    let ansver = '';

  function nextImage() {
    if (currentIndex < images.length - 1) {
      ansver = ans.value;
      console.log(ansver.length);

      if (ansver.length > 0){
        currentIndex++;
        labels.push(ansver);
        showImage(currentIndex);

      } else{
        console.log('cos poszlo nie tak');
      };
    
    };
  };

  nextButton.addEventListener('click', nextImage);
  showImage(currentIndex);
</script>
{% endblock %}